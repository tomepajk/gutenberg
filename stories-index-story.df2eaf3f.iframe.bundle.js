"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[988],{"./packages/components/build-module/checkbox-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/deprecated/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/icons/build-module/library/reset.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/check.js"),_base_control__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/base-control/index.js");const __WEBPACK_DEFAULT_EXPORT__=function CheckboxControl(props){const{__nextHasNoMarginBottom,label,className,heading,checked,indeterminate,help,id:idProp,onChange,...additionalProps}=props;heading&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__.Z)("`heading` prop in `CheckboxControl`",{alternative:"a separate element to implement a heading",since:"5.8"});const[showCheckedIcon,setShowCheckedIcon]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[showIndeterminateIcon,setShowIndeterminateIcon]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)((node=>{node&&(node.indeterminate=!!indeterminate,setShowCheckedIcon(node.matches(":checked")),setShowIndeterminateIcon(node.matches(":indeterminate")))}),[checked,indeterminate]),id=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(CheckboxControl,"inspector-checkbox-control",idProp);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_5__.ZP,{__nextHasNoMarginBottom,label:heading,id,help,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-checkbox-control",className)},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"components-checkbox-control__input-container"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{ref,id,className:"components-checkbox-control__input",type:"checkbox",value:"1",onChange:event=>onChange(event.target.checked),checked,"aria-describedby":help?id+"__help":void 0,...additionalProps}),showIndeterminateIcon?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__.Z,className:"components-checkbox-control__indeterminate",role:"presentation"}):null,showCheckedIcon?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,className:"components-checkbox-control__checked",role:"presentation"}):null),label&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",{className:"components-checkbox-control__label",htmlFor:id},label))}},"./packages/components/build-module/dropdown/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/deprecated/build-module/index.js"),_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),_context__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/context/context-connect.js"),_utils_hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-value.js"),_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/popover/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_context__WEBPACK_IMPORTED_MODULE_7__.Iq)(((props,forwardedRef)=>{const{renderContent,renderToggle,className,contentClassName,expandOnMobile,headerTitle,focusOnMount,popoverProps,onClose,onToggle,style,open,defaultOpen,position,variant}=(0,_context__WEBPACK_IMPORTED_MODULE_2__.y)(props,"Dropdown");void 0!==position&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_3__.Z)("`position` prop in wp.components.Dropdown",{since:"6.2",alternative:"`popoverProps.placement` prop",hint:"Note that the `position` prop will override any values passed through the `popoverProps.placement` prop."});const[fallbackPopoverAnchor,setFallbackPopoverAnchor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[isOpen,setIsOpen]=(0,_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.O)({defaultValue:defaultOpen,value:open,onChange:onToggle});function close(){onClose?.(),setIsOpen(!1)}const args={isOpen:!!isOpen,onToggle:()=>setIsOpen(!isOpen),onClose:close},popoverPropsHaveAnchor=!!(popoverProps?.anchor||popoverProps?.anchorRef||popoverProps?.getAnchorRect||popoverProps?.anchorRect);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([containerRef,forwardedRef,setFallbackPopoverAnchor]),tabIndex:-1,style},renderToggle(args),isOpen&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_popover__WEBPACK_IMPORTED_MODULE_6__.ZP,{position,onClose:close,onFocusOutside:function closeIfFocusOutside(){if(!containerRef.current)return;const{ownerDocument}=containerRef.current,dialog=ownerDocument?.activeElement?.closest('[role="dialog"]');containerRef.current.contains(ownerDocument.activeElement)||dialog&&!dialog.contains(containerRef.current)||close()},expandOnMobile,headerTitle,focusOnMount,offset:13,anchor:popoverPropsHaveAnchor?void 0:fallbackPopoverAnchor,variant,...popoverProps,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-dropdown__content",popoverProps?.className,contentClassName)},renderContent(args)))}),"Dropdown")},"./packages/components/build-module/grid/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>grid_component});var react=__webpack_require__("./node_modules/react/index.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js");const ALIGNMENTS={bottom:{alignItems:"flex-end",justifyContent:"center"},bottomLeft:{alignItems:"flex-start",justifyContent:"flex-end"},bottomRight:{alignItems:"flex-end",justifyContent:"flex-end"},center:{alignItems:"center",justifyContent:"center"},spaced:{alignItems:"center",justifyContent:"space-between"},left:{alignItems:"center",justifyContent:"flex-start"},right:{alignItems:"center",justifyContent:"flex-end"},stretch:{alignItems:"stretch"},top:{alignItems:"flex-start",justifyContent:"center"},topLeft:{alignItems:"flex-start",justifyContent:"flex-start"},topRight:{alignItems:"flex-start",justifyContent:"flex-end"}};var use_responsive_value=__webpack_require__("./packages/components/build-module/utils/use-responsive-value.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");function useGrid(props){const{align,alignment,className,columnGap,columns=2,gap=3,isInline=!1,justify,rowGap,rows,templateColumns,templateRows,...otherProps}=(0,use_context_system.y)(props,"Grid"),columnsAsArray=Array.isArray(columns)?columns:[columns],column=(0,use_responsive_value.V)(columnsAsArray),rowsAsArray=Array.isArray(rows)?rows:[rows],row=(0,use_responsive_value.V)(rowsAsArray),gridTemplateColumns=templateColumns||!!columns&&`repeat( ${column}, 1fr )`,gridTemplateRows=templateRows||!!rows&&`repeat( ${row}, 1fr )`,cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>{const alignmentProps=function getAlignmentProps(alignment){return alignment?ALIGNMENTS[alignment]:{}}(alignment),gridClasses=(0,emotion_react_browser_esm.iv)({alignItems:align,display:isInline?"inline-grid":"grid",gap:`calc( ${config_values.Z.gridBase} * ${gap} )`,gridTemplateColumns:gridTemplateColumns||void 0,gridTemplateRows:gridTemplateRows||void 0,gridRowGap:rowGap,gridColumnGap:columnGap,justifyContent:justify,verticalAlign:isInline?"middle":void 0,...alignmentProps},"","","","");return cx(gridClasses,className)}),[align,alignment,className,columnGap,cx,gap,gridTemplateColumns,gridTemplateRows,isInline,justify,rowGap])}}const grid_component=(0,context_connect.Iq)((function UnconnectedGrid(props,forwardedRef){const gridProps=useGrid(props);return(0,react.createElement)(component.Z,{...gridProps,ref:forwardedRef})}),"Grid")},"./packages/components/build-module/input-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{gs:()=>InputControl,ZP:()=>input_control});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),input_base=__webpack_require__("./packages/components/build-module/input-control/input-base.js"),use_gesture_react_esm=__webpack_require__("./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");var input_control_styles=__webpack_require__("./packages/components/build-module/input-control/styles/input-control-styles.js");const initialStateReducer=state=>state,initialInputControlState={error:null,initialValue:"",isDirty:!1,isDragEnabled:!1,isDragging:!1,isPressEnterToChange:!1,value:""};var actions=__webpack_require__("./packages/components/build-module/input-control/reducer/actions.js");function useInputControlStateReducer(stateReducer=initialStateReducer,initialState=initialInputControlState,onChangeHandler){const[state,dispatch]=(0,react.useReducer)(function inputControlStateReducer(composedStateReducers){return(state,action)=>{const nextState={...state};switch(action.type){case actions.jx:return nextState.value=action.payload.value,nextState.isDirty=!1,nextState._event=void 0,nextState;case actions.Oh:case actions.LX:nextState.isDirty=!1;break;case actions.nv:nextState.isDragging=!0;break;case actions.Sv:nextState.isDragging=!1;break;case actions.Ve:nextState.error=null,nextState.value=action.payload.value,state.isPressEnterToChange&&(nextState.isDirty=!0);break;case actions.g:nextState.value=action.payload.value,nextState.isDirty=!1;break;case actions.td:nextState.error=null,nextState.isDirty=!1,nextState.value=action.payload.value||state.initialValue;break;case actions.WT:nextState.error=action.payload.error}return nextState._event=action.payload.event,composedStateReducers(nextState,action)}}(stateReducer),function mergeInitialState(initialState=initialInputControlState){const{value}=initialState;return{...initialInputControlState,...initialState,initialValue:value}}(initialState)),createChangeEvent=type=>(nextValue,event)=>{dispatch({type,payload:{value:nextValue,event}})},createKeyEvent=type=>event=>{dispatch({type,payload:{event}})},createDragEvent=type=>payload=>{dispatch({type,payload})},change=createChangeEvent(actions.Ve),reset=createChangeEvent(actions.td),commit=createChangeEvent(actions.g),dragStart=createDragEvent(actions.nv),drag=createDragEvent(actions.Wp),dragEnd=createDragEvent(actions.Sv),pressUp=createKeyEvent(actions.Oh),pressDown=createKeyEvent(actions.LX),pressEnter=createKeyEvent(actions.Q4),currentState=(0,react.useRef)(state),refProps=(0,react.useRef)({value:initialState.value,onChangeHandler});return(0,react.useLayoutEffect)((()=>{currentState.current=state,refProps.current={value:initialState.value,onChangeHandler}})),(0,react.useLayoutEffect)((()=>{var _state$value;void 0===currentState.current._event||state.value===refProps.current.value||state.isDirty||refProps.current.onChangeHandler(null!==(_state$value=state.value)&&void 0!==_state$value?_state$value:"",{event:currentState.current._event})}),[state.value,state.isDirty]),(0,react.useLayoutEffect)((()=>{var _initialState$value;initialState.value===currentState.current.value||currentState.current.isDirty||dispatch({type:actions.jx,payload:{value:null!==(_initialState$value=initialState.value)&&void 0!==_initialState$value?_initialState$value:""}})}),[initialState.value]),{change,commit,dispatch,drag,dragEnd,dragStart,invalidate:(error,event)=>dispatch({type:actions.WT,payload:{error,event}}),pressDown,pressEnter,pressUp,reset,state}}const noop=()=>{};const input_field=(0,react.forwardRef)((function InputField({disabled=!1,dragDirection="n",dragThreshold=10,id,isDragEnabled=!1,isFocused,isPressEnterToChange=!1,onBlur=noop,onChange=noop,onDrag=noop,onDragEnd=noop,onDragStart=noop,onFocus=noop,onKeyDown=noop,onValidate=noop,size="default",setIsFocused,stateReducer=state=>state,value:valueProp,type,...props},ref){const{state,change,commit,drag,dragEnd,dragStart,invalidate,pressDown,pressEnter,pressUp,reset}=useInputControlStateReducer(stateReducer,{isDragEnabled,value:valueProp,isPressEnterToChange},onChange),{value,isDragging,isDirty}=state,wasDirtyOnBlur=(0,react.useRef)(!1),dragCursor=function useDragCursor(isDragging,dragDirection){const dragCursor=function getDragCursor(dragDirection){let dragCursor="ns-resize";switch(dragDirection){case"n":case"s":dragCursor="ns-resize";break;case"e":case"w":dragCursor="ew-resize"}return dragCursor}(dragDirection);return(0,react.useEffect)((()=>{document.documentElement.style.cursor=isDragging?dragCursor:null}),[isDragging,dragCursor]),dragCursor}(isDragging,dragDirection),handleOnCommit=event=>{const nextValue=event.currentTarget.value;try{onValidate(nextValue),commit(nextValue,event)}catch(err){invalidate(err,event)}},dragGestureProps=(0,use_gesture_react_esm.useDrag)((dragProps=>{const{distance,dragging,event,target}=dragProps;if(dragProps.event={...dragProps.event,target},distance){if(event.stopPropagation(),!dragging)return onDragEnd(dragProps),void dragEnd(dragProps);onDrag(dragProps),drag(dragProps),isDragging||(onDragStart(dragProps),dragStart(dragProps))}}),{axis:"e"===dragDirection||"w"===dragDirection?"x":"y",threshold:dragThreshold,enabled:isDragEnabled,pointer:{capture:!1}}),dragProps=isDragEnabled?dragGestureProps():{};let handleOnMouseDown;return"number"===type&&(handleOnMouseDown=event=>{props.onMouseDown?.(event),event.currentTarget!==event.currentTarget.ownerDocument.activeElement&&event.currentTarget.focus()}),(0,react.createElement)(input_control_styles.II,{...props,...dragProps,className:"components-input-control__input",disabled,dragCursor,isDragging,id,onBlur:event=>{onBlur(event),setIsFocused?.(!1),!isDirty&&event.target.validity.valid||(wasDirtyOnBlur.current=!0,handleOnCommit(event))},onChange:event=>{const nextValue=event.target.value;change(nextValue,event)},onFocus:event=>{onFocus(event),setIsFocused?.(!0)},onKeyDown:event=>{const{key}=event;switch(onKeyDown(event),key){case"ArrowUp":pressUp(event);break;case"ArrowDown":pressDown(event);break;case"Enter":pressEnter(event),isPressEnterToChange&&(event.preventDefault(),handleOnCommit(event));break;case"Escape":isPressEnterToChange&&isDirty&&(event.preventDefault(),reset(valueProp,event))}},onMouseDown:handleOnMouseDown,ref,inputSize:size,value:null!=value?value:"",type})}));var space=__webpack_require__("./packages/components/build-module/utils/space.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),use_deprecated_props=__webpack_require__("./packages/components/build-module/utils/use-deprecated-props.js");const input_control_noop=()=>{};const InputControl=(0,react.forwardRef)((function UnforwardedInputControl(props,ref){const{__next40pxDefaultSize,__unstableStateReducer:stateReducer=(state=>state),__unstableInputWidth,className,disabled=!1,help,hideLabelFromVision=!1,id:idProp,isPressEnterToChange=!1,label,labelPosition="top",onChange=input_control_noop,onValidate=input_control_noop,onKeyDown=input_control_noop,prefix,size="default",style,suffix,value,...restProps}=(0,use_deprecated_props.s)(props),[isFocused,setIsFocused]=(0,react.useState)(!1),id=function useUniqueId(idProp){const instanceId=(0,use_instance_id.Z)(InputControl);return idProp||`inspector-input-control-${instanceId}`}(idProp),classes=classnames_default()("components-input-control",className),draftHookProps=function useDraft(props){const refPreviousValue=(0,react.useRef)(props.value),[draft,setDraft]=(0,react.useState)({}),value=void 0!==draft.value?draft.value:props.value;return(0,react.useLayoutEffect)((()=>{const{current:previousValue}=refPreviousValue;refPreviousValue.current=props.value,void 0===draft.value||draft.isStale?draft.isStale&&props.value!==previousValue&&setDraft({}):setDraft({...draft,isStale:!0})}),[props.value,draft]),{value,onBlur:event=>{setDraft({}),props.onBlur?.(event)},onChange:(nextValue,extra)=>{setDraft((current=>Object.assign(current,{value:nextValue,isStale:!1}))),props.onChange(nextValue,extra)}}}({value,onBlur:restProps.onBlur,onChange}),helpProp=help?{["string"==typeof help?"aria-describedby":"aria-details"]:`${id}__help`}:{};return(0,react.createElement)(base_control.ZP,{className:classes,help,id,__nextHasNoMarginBottom:!0},(0,react.createElement)(input_base.Z,{__next40pxDefaultSize,__unstableInputWidth,disabled,gap:3,hideLabelFromVision,id,isFocused,justify:"left",label,labelPosition,prefix,size,style,suffix},(0,react.createElement)(input_field,{...restProps,...helpProp,__next40pxDefaultSize,className:"components-input-control__input",disabled,id,isFocused,isPressEnterToChange,onKeyDown,onValidate,paddingInlineStart:prefix?(0,space.D)(2):void 0,paddingInlineEnd:suffix?(0,space.D)(2):void 0,ref,setIsFocused,size,stateReducer,...draftHookProps})))})),input_control=InputControl},"./packages/components/build-module/input-control/reducer/actions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{LX:()=>PRESS_DOWN,Oh:()=>PRESS_UP,Q4:()=>PRESS_ENTER,Sv:()=>DRAG_END,Ve:()=>CHANGE,WT:()=>INVALIDATE,Wp:()=>DRAG,g:()=>COMMIT,jx:()=>CONTROL,nv:()=>DRAG_START,td:()=>RESET});const CHANGE="CHANGE",COMMIT="COMMIT",CONTROL="CONTROL",DRAG_END="DRAG_END",DRAG_START="DRAG_START",DRAG="DRAG",INVALIDATE="INVALIDATE",PRESS_DOWN="PRESS_DOWN",PRESS_ENTER="PRESS_ENTER",PRESS_UP="PRESS_UP",RESET="RESET"},"./packages/components/build-module/modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>modal});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_focus_on_mount=__webpack_require__("./packages/compose/build-module/hooks/use-focus-on-mount/index.js"),use_constrained_tabbing=__webpack_require__("./packages/compose/build-module/hooks/use-constrained-tabbing/index.js"),use_focus_return=__webpack_require__("./packages/compose/build-module/hooks/use-focus-return/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),library_close=__webpack_require__("./packages/icons/build-module/library/close.js"),get_scroll_container=__webpack_require__("./packages/dom/build-module/dom/get-scroll-container.js");const LIVE_REGION_ARIA_ROLES=new Set(["alert","status","log","marquee","timer"]),hiddenElementsByDepth=[];function elementShouldBeHidden(element){const role=element.getAttribute("role");return!("SCRIPT"===element.tagName||element.hasAttribute("aria-hidden")||element.hasAttribute("aria-live")||role&&LIVE_REGION_ARIA_ROLES.has(role))}var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),with_ignore_ime_events=__webpack_require__("./packages/components/build-module/utils/with-ignore-ime-events.js");const ModalContext=(0,react.createContext)([]),bodyOpenClasses=new Map;const Modal=(0,react.forwardRef)((function UnforwardedModal(props,forwardedRef){const{bodyOpenClassName="modal-open",role="dialog",title=null,focusOnMount=!0,shouldCloseOnEsc=!0,shouldCloseOnClickOutside=!0,isDismissible=!0,aria={labelledby:void 0,describedby:void 0},onRequestClose,icon,closeButtonLabel,children,style,overlayClassName,className,contentLabel,onKeyDown,isFullScreen=!1,size,headerActions=null,__experimentalHideHeader=!1}=props,ref=(0,react.useRef)(),instanceId=(0,use_instance_id.Z)(Modal),headingId=title?`components-modal-header-${instanceId}`:aria.labelledby,focusOnMountRef=(0,use_focus_on_mount.Z)("firstContentElement"===focusOnMount?"firstElement":focusOnMount),constrainedTabbingRef=(0,use_constrained_tabbing.Z)(),focusReturnRef=(0,use_focus_return.Z)(),contentRef=(0,react.useRef)(null),childrenContainerRef=(0,react.useRef)(null),[hasScrolledContent,setHasScrolledContent]=(0,react.useState)(!1),[hasScrollableContent,setHasScrollableContent]=(0,react.useState)(!1);let sizeClass;isFullScreen||"fill"===size?sizeClass="is-full-screen":size&&(sizeClass=`has-size-${size}`);const isContentScrollable=(0,react.useCallback)((()=>{if(!contentRef.current)return;const closestScrollContainer=(0,get_scroll_container.Z)(contentRef.current);contentRef.current===closestScrollContainer?setHasScrollableContent(!0):setHasScrollableContent(!1)}),[contentRef]);(0,react.useEffect)((()=>(function modalize(modalElement){const elements=Array.from(document.body.children),hiddenElements=[];hiddenElementsByDepth.push(hiddenElements);for(const element of elements)element!==modalElement&&elementShouldBeHidden(element)&&(element.setAttribute("aria-hidden","true"),hiddenElements.push(element))}(ref.current),()=>function unmodalize(){const hiddenElements=hiddenElementsByDepth.pop();if(hiddenElements)for(const element of hiddenElements)element.removeAttribute("aria-hidden")}())),[]);const refOnRequestClose=(0,react.useRef)();(0,react.useEffect)((()=>{refOnRequestClose.current=onRequestClose}),[onRequestClose]);const dismissers=(0,react.useContext)(ModalContext),nestedDismissers=(0,react.useRef)([]);(0,react.useEffect)((()=>{dismissers.push(refOnRequestClose);const[first,second]=dismissers;second&&first?.current?.();const nested=nestedDismissers.current;return()=>{nested[0]?.current?.(),dismissers.shift()}}),[dismissers]),(0,react.useEffect)((()=>{var _bodyOpenClasses$get;const theClass=bodyOpenClassName,oneMore=1+(null!==(_bodyOpenClasses$get=bodyOpenClasses.get(theClass))&&void 0!==_bodyOpenClasses$get?_bodyOpenClasses$get:0);return bodyOpenClasses.set(theClass,oneMore),document.body.classList.add(bodyOpenClassName),()=>{const oneLess=bodyOpenClasses.get(theClass)-1;0===oneLess?(document.body.classList.remove(theClass),bodyOpenClasses.delete(theClass)):bodyOpenClasses.set(theClass,oneLess)}}),[bodyOpenClassName]),(0,react.useLayoutEffect)((()=>{if(!window.ResizeObserver||!childrenContainerRef.current)return;const resizeObserver=new ResizeObserver(isContentScrollable);return resizeObserver.observe(childrenContainerRef.current),isContentScrollable(),()=>{resizeObserver.disconnect()}}),[isContentScrollable,childrenContainerRef]);const onContentContainerScroll=(0,react.useCallback)((e=>{var _e$currentTarget$scro;const scrollY=null!==(_e$currentTarget$scro=e?.currentTarget?.scrollTop)&&void 0!==_e$currentTarget$scro?_e$currentTarget$scro:-1;!hasScrolledContent&&scrollY>0?setHasScrolledContent(!0):hasScrolledContent&&scrollY<=0&&setHasScrolledContent(!1)}),[hasScrolledContent]);let pressTarget=null;const overlayPressHandlers={onPointerDown:event=>{event.target===event.currentTarget&&(pressTarget=event.target,event.preventDefault())},onPointerUp:({target,button})=>{const isSameTarget=target===pressTarget;pressTarget=null,0===button&&isSameTarget&&onRequestClose()}},modal=(0,react.createElement)("div",{ref:(0,use_merge_refs.Z)([ref,forwardedRef]),className:classnames_default()("components-modal__screen-overlay",overlayClassName),onKeyDown:(0,with_ignore_ime_events.U)((function handleEscapeKeyDown(event){!shouldCloseOnEsc||"Escape"!==event.code&&"Escape"!==event.key||event.defaultPrevented||(event.preventDefault(),onRequestClose&&onRequestClose(event))})),...shouldCloseOnClickOutside?overlayPressHandlers:{}},(0,react.createElement)(style_provider.Z,{document},(0,react.createElement)("div",{className:classnames_default()("components-modal__frame",sizeClass,className),style,ref:(0,use_merge_refs.Z)([constrainedTabbingRef,focusReturnRef,"firstContentElement"!==focusOnMount?focusOnMountRef:null]),role,"aria-label":contentLabel,"aria-labelledby":contentLabel?void 0:headingId,"aria-describedby":aria.describedby,tabIndex:-1,onKeyDown},(0,react.createElement)("div",{className:classnames_default()("components-modal__content",{"hide-header":__experimentalHideHeader,"is-scrollable":hasScrollableContent,"has-scrolled-content":hasScrolledContent}),role:"document",onScroll:onContentContainerScroll,ref:contentRef,"aria-label":hasScrollableContent?(0,build_module.__)("Scrollable section"):void 0,tabIndex:hasScrollableContent?0:void 0},!__experimentalHideHeader&&(0,react.createElement)("div",{className:"components-modal__header"},(0,react.createElement)("div",{className:"components-modal__header-heading-container"},icon&&(0,react.createElement)("span",{className:"components-modal__icon-container","aria-hidden":!0},icon),title&&(0,react.createElement)("h1",{id:headingId,className:"components-modal__header-heading"},title)),headerActions,isDismissible&&(0,react.createElement)(build_module_button.ZP,{onClick:onRequestClose,icon:library_close.Z,label:closeButtonLabel||(0,build_module.__)("Close")})),(0,react.createElement)("div",{ref:(0,use_merge_refs.Z)([childrenContainerRef,"firstContentElement"===focusOnMount?focusOnMountRef:null])},children)))));return(0,react_dom.createPortal)((0,react.createElement)(ModalContext.Provider,{value:nestedDismissers.current},modal),document.body)})),modal=Modal},"./packages/components/build-module/search-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>search_control});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),search=__webpack_require__("./packages/icons/build-module/library/search.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),context_system_provider=__webpack_require__("./packages/components/build-module/context/context-system-provider.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),input_control=__webpack_require__("./packages/components/build-module/input-control/index.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const SuffixItemWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"effl84m1"})("display:flex;padding-inline-end:",(({size})=>(0,space.D)("compact"===size?1:2)),";svg{fill:currentColor;}"),StyledInputControl=(0,emotion_styled_base_browser_esm.Z)(input_control.ZP,{target:"effl84m0"})("input[type='search']{&::-webkit-search-decoration,&::-webkit-search-cancel-button,&::-webkit-search-results-button,&::-webkit-search-results-decoration{-webkit-appearance:none;}}&:not( :focus-within ){--wp-components-color-background:",colors_values.D.theme.gray[100],";}");function SuffixItem({searchRef,value,onChange,onClose}){if(!onClose&&!value)return(0,react.createElement)(icon.Z,{icon:search.Z});return(0,react.createElement)(build_module_button.ZP,{size:"small",icon:close_small.Z,label:onClose?(0,build_module.__)("Close search"):(0,build_module.__)("Reset search"),onClick:null!=onClose?onClose:()=>{onChange(""),searchRef.current?.focus()}})}const SearchControl=(0,react.forwardRef)((function UnforwardedSearchControl({__nextHasNoMarginBottom=!1,className,onChange,value,label=(0,build_module.__)("Search"),placeholder=(0,build_module.__)("Search"),hideLabelFromVision=!0,onClose,size="default",...restProps},forwardedRef){delete restProps.disabled;const searchRef=(0,react.useRef)(null),instanceId=(0,use_instance_id.Z)(SearchControl,"components-search-control"),contextValue=(0,react.useMemo)((()=>({BaseControl:{_overrides:{__nextHasNoMarginBottom}},InputBase:{isBorderless:!0}})),[__nextHasNoMarginBottom]);return(0,react.createElement)(context_system_provider.G8,{value:contextValue},(0,react.createElement)(StyledInputControl,{__next40pxDefaultSize:!0,id:instanceId,hideLabelFromVision,label,ref:(0,use_merge_refs.Z)([searchRef,forwardedRef]),type:"search",size,className:classnames_default()("components-search-control",className),onChange:nextValue=>onChange(null!=nextValue?nextValue:""),autoComplete:"off",placeholder,value:null!=value?value:"",suffix:(0,react.createElement)(SuffixItemWrapper,{size},(0,react.createElement)(SuffixItem,{searchRef,value,onChange,onClose})),...restProps}))})),search_control=SearchControl},"./packages/components/build-module/select-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>SelectControl,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/base-control/index.js"),_input_control_input_base__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/input-control/input-base.js"),_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/select-control/styles/select-control-styles.js"),_chevron_down__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/select-control/chevron-down.js"),_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/utils/use-deprecated-props.js");const noop=()=>{};const SelectControl=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function UnforwardedSelectControl(props,ref){const{className,disabled=!1,help,hideLabelFromVision,id:idProp,label,multiple=!1,onBlur=noop,onChange,onFocus=noop,options=[],size="default",value:valueProp,labelPosition="top",children,prefix,suffix,__next40pxDefaultSize=!1,__nextHasNoMarginBottom=!1,...restProps}=(0,_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__.s)(props),[isFocused,setIsFocused]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),id=function useUniqueId(idProp){const instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.Z)(SelectControl);return idProp||`inspector-select-control-${instanceId}`}(idProp),helpId=help?`${id}__help`:void 0;if(!options?.length&&!children)return null;const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-select-control",className);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_4__.ZP,{help,id,__nextHasNoMarginBottom},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_input_control_input_base__WEBPACK_IMPORTED_MODULE_5__.Z,{className:classes,disabled,hideLabelFromVision,id,isFocused,label,size,suffix:suffix||!multiple&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_chevron_down__WEBPACK_IMPORTED_MODULE_6__.Z,null),prefix,labelPosition,__next40pxDefaultSize},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_7__.Ph,{...restProps,__next40pxDefaultSize,"aria-describedby":helpId,className:"components-select-control__input",disabled,id,multiple,onBlur:event=>{onBlur(event),setIsFocused(!1)},onChange:event=>{if(props.multiple){const newValues=Array.from(event.target.options).filter((({selected})=>selected)).map((({value})=>value));props.onChange?.(newValues,{event})}else props.onChange?.(event.target.value,{event})},onFocus:event=>{onFocus(event),setIsFocused(!0)},ref,selectSize:size,value:valueProp},children||options.map(((option,index)=>{const key=option.id||`${option.label}-${option.value}-${index}`;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("option",{key,value:option.value,disabled:option.disabled,hidden:option.hidden},option.label)})))))})),__WEBPACK_DEFAULT_EXPORT__=SelectControl},"./packages/components/build-module/utils/hooks/use-controlled-value.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>useControlledValue});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useControlledValue({defaultValue,onChange,value:valueProp}){const hasValue=void 0!==valueProp,initialValue=hasValue?valueProp:defaultValue,[state,setState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue);let setValue;return setValue=hasValue&&"function"==typeof onChange?onChange:hasValue||"function"!=typeof onChange?setState:nextValue=>{onChange(nextValue),setState(nextValue)},[hasValue?valueProp:state,setValue]}},"./packages/components/build-module/utils/strings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GL:()=>kebabCase,eK:()=>normalizeTextString,hr:()=>escapeRegExp});var remove_accents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_0__),change_case__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");const ALL_UNICODE_DASH_CHARACTERS=new RegExp(`[${["-","~","­","֊","־","᐀","᠆","‐","‑","‒","–","—","―","⁓","⁻","₋","−","⸗","⸺","⸻","〜","〰","゠","︱","︲","﹘","﹣","－"].join("")}]`,"g"),normalizeTextString=value=>remove_accents__WEBPACK_IMPORTED_MODULE_0___default()(value).toLocaleLowerCase().replace(ALL_UNICODE_DASH_CHARACTERS,"-");function kebabCase(str){var _str$toString;let input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"";return input=input.replace(/['\u2019]/,""),(0,change_case__WEBPACK_IMPORTED_MODULE_1__.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}function escapeRegExp(string){return string.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}},"./packages/components/build-module/utils/with-ignore-ime-events.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function withIgnoreIMEEvents(keydownHandler){return event=>{const{isComposing}="nativeEvent"in event?event.nativeEvent:event;isComposing||229===event.keyCode||keydownHandler(event)}}__webpack_require__.d(__webpack_exports__,{U:()=>withIgnoreIMEEvents})},"./packages/components/build-module/v-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>v_stack_component});var react=__webpack_require__("./node_modules/react/index.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/h-stack/hook.js");const v_stack_component=(0,context_connect.Iq)((function UnconnectedVStack(props,forwardedRef){const vStackProps=function useVStack(props){const{expanded=!1,alignment="stretch",...otherProps}=(0,use_context_system.y)(props,"VStack");return(0,hook.R)({direction:"column",expanded,alignment,...otherProps})}(props);return(0,react.createElement)(component.Z,{...vStackProps,ref:forwardedRef})}),"VStack")},"./packages/compose/build-module/hooks/use-async-list/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js"),_wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/priority-queue/build-module/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useAsyncList(list,config={step:1}){const{step=1}=config,[current,setCurrent]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)([]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let firstItems=function getFirstItemsPresentInState(list,state){const firstItems=[];for(let i=0;i<list.length;i++){const item=list[i];if(!state.includes(item))break;firstItems.push(item)}return firstItems}(list,current);firstItems.length<step&&(firstItems=firstItems.concat(list.slice(firstItems.length,step))),setCurrent(firstItems);const asyncQueue=(0,_wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1__.j)();for(let i=firstItems.length;i<list.length;i+=step)asyncQueue.add({},(()=>{(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.flushSync)((()=>{setCurrent((state=>[...state,...list.slice(i,i+step)]))}))}));return()=>asyncQueue.reset()}),[list]),current}},"./packages/compose/build-module/hooks/use-debounced-input/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useDebouncedInput});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_use_debounce__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js");function useDebouncedInput(defaultValue=""){const[input,setInput]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),[debouncedInput,setDebouncedState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),setDebouncedInput=(0,_use_debounce__WEBPACK_IMPORTED_MODULE_1__.Z)(setDebouncedState,250);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setDebouncedInput(input)}),[input]),[input,setInput,debouncedInput]}},"./packages/dom/build-module/dom/get-computed-style.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>getComputedStyle});var _utils_assert_is_defined__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dom/build-module/utils/assert-is-defined.js");function getComputedStyle(element){return(0,_utils_assert_is_defined__WEBPACK_IMPORTED_MODULE_0__.c)(element.ownerDocument.defaultView,"element.ownerDocument.defaultView"),element.ownerDocument.defaultView.getComputedStyle(element)}},"./packages/dom/build-module/dom/get-scroll-container.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>getScrollContainer});var _get_computed_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dom/build-module/dom/get-computed-style.js");function getScrollContainer(node,direction="vertical"){if(node){if(("vertical"===direction||"all"===direction)&&node.scrollHeight>node.clientHeight){const{overflowY}=(0,_get_computed_style__WEBPACK_IMPORTED_MODULE_0__.Z)(node);if(/(auto|scroll)/.test(overflowY))return node}if(("horizontal"===direction||"all"===direction)&&node.scrollWidth>node.clientWidth){const{overflowX}=(0,_get_computed_style__WEBPACK_IMPORTED_MODULE_0__.Z)(node);if(/(auto|scroll)/.test(overflowX))return node}return node.ownerDocument===node.parentNode?node:getScrollContainer(node.parentNode,direction)}}},"./packages/element/build-module/create-interpolate-element.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");let indoc,offset,output,stack;const tokenizer=/<(\/)?(\w+)\s*(\/)?>/g;function createFrame(element,tokenStart,tokenLength,prevOffset,leadingTextStart){return{element,tokenStart,tokenLength,prevOffset,leadingTextStart,children:[]}}const isValidConversionMap=conversionMap=>{const isObject="object"==typeof conversionMap,values=isObject&&Object.values(conversionMap);return isObject&&values.length&&values.every((element=>(0,_react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(element)))};function proceed(conversionMap){const next=function nextToken(){const matches=tokenizer.exec(indoc);if(null===matches)return["no-more-tokens"];const startedAt=matches.index,[match,isClosing,name,isSelfClosed]=matches,length=match.length;if(isSelfClosed)return["self-closed",name,startedAt,length];if(isClosing)return["closer",name,startedAt,length];return["opener",name,startedAt,length]}(),[tokenType,name,startOffset,tokenLength]=next,stackDepth=stack.length,leadingTextStart=startOffset>offset?offset:null;if(!conversionMap[name])return addText(),!1;switch(tokenType){case"no-more-tokens":if(0!==stackDepth){const{leadingTextStart:stackLeadingText,tokenStart}=stack.pop();output.push(indoc.substr(stackLeadingText,tokenStart))}return addText(),!1;case"self-closed":return 0===stackDepth?(null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,startOffset-leadingTextStart)),output.push(conversionMap[name]),offset=startOffset+tokenLength,!0):(addChild(createFrame(conversionMap[name],startOffset,tokenLength)),offset=startOffset+tokenLength,!0);case"opener":return stack.push(createFrame(conversionMap[name],startOffset,tokenLength,startOffset+tokenLength,leadingTextStart)),offset=startOffset+tokenLength,!0;case"closer":if(1===stackDepth)return function closeOuterElement(endOffset){const{element,leadingTextStart,prevOffset,tokenStart,children}=stack.pop(),text=endOffset?indoc.substr(prevOffset,endOffset-prevOffset):indoc.substr(prevOffset);text&&children.push(text);null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,tokenStart-leadingTextStart));output.push((0,_react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element,null,...children))}(startOffset),offset=startOffset+tokenLength,!0;const stackTop=stack.pop(),text=indoc.substr(stackTop.prevOffset,startOffset-stackTop.prevOffset);stackTop.children.push(text),stackTop.prevOffset=startOffset+tokenLength;const frame=createFrame(stackTop.element,stackTop.tokenStart,stackTop.tokenLength,startOffset+tokenLength);return frame.children=stackTop.children,addChild(frame),offset=startOffset+tokenLength,!0;default:return addText(),!1}}function addText(){const length=indoc.length-offset;0!==length&&output.push(indoc.substr(offset,length))}function addChild(frame){const{element,tokenStart,tokenLength,prevOffset,children}=frame,parent=stack[stack.length-1],text=indoc.substr(parent.prevOffset,tokenStart-parent.prevOffset);text&&parent.children.push(text),parent.children.push((0,_react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element,null,...children)),parent.prevOffset=prevOffset||tokenStart+tokenLength}const __WEBPACK_DEFAULT_EXPORT__=(interpolatedString,conversionMap)=>{if(indoc=interpolatedString,offset=0,output=[],stack=[],tokenizer.lastIndex=0,!isValidConversionMap(conversionMap))throw new TypeError("The conversionMap provided is not valid. It must be an object with values that are React Elements");do{}while(proceed(conversionMap));return(0,_react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,...output)}},"./packages/icons/build-module/library/block-table.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"}))},"./packages/icons/build-module/library/category.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"}))},"./packages/icons/build-module/library/chevron-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}))},"./packages/icons/build-module/library/chevron-right.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}))},"./packages/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},"./packages/icons/build-module/library/format-list-bullets-rtl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}))},"./packages/icons/build-module/library/format-list-bullets.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},"./packages/icons/build-module/library/info.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}))},"./packages/icons/build-module/library/more-vertical.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}))},"./packages/icons/build-module/library/reset.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7 11.5h10V13H7z"}))},"./packages/icons/build-module/library/search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}))},"./packages/icons/build-module/library/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"}))},"./packages/icons/build-module/library/trash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"}))},"./packages/dataviews/src/stories/index.story.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>index_story});var react=__webpack_require__("./node_modules/react/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),chevron_left=__webpack_require__("./packages/icons/build-module/library/chevron-left.js"),chevron_right=__webpack_require__("./packages/icons/build-module/library/chevron-right.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Pagination=(0,react.memo)((function Pagination({view,onChangeView,paginationInfo:{totalItems=0,totalPages}}){return totalItems&&totalPages?!!totalItems&&1!==totalPages&&(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination",children:[(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection",children:(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module._x)("Page <CurrentPageControl /> of %s","paging"),totalPages),{CurrentPageControl:(0,jsx_runtime.jsx)(select_control.Z,{"aria-label":(0,build_module.__)("Current page"),value:view.page,options:Array.from(Array(totalPages)).map(((_,i)=>{const page=i+1;return{value:page,label:page}})),onChange:newValue=>{onChangeView({...view,page:+newValue})},size:"compact",__nextHasNoMarginBottom:!0})})}),(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,spacing:1,children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:view.page-1}),disabled:1===view.page,__experimentalIsFocusable:!0,label:(0,build_module.__)("Previous page"),icon:chevron_left.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:view.page+1}),disabled:view.page>=totalPages,__experimentalIsFocusable:!0,label:(0,build_module.__)("Next page"),icon:chevron_right.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]}):null})),pagination=Pagination;Pagination.__docgenInfo={description:"",methods:[],displayName:"Pagination"};var private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),settings=__webpack_require__("./packages/icons/build-module/library/settings.js"),implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock,unlock}=(0,implementation.es)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/dataviews");var block_table=__webpack_require__("./packages/icons/build-module/library/block-table.js"),category=__webpack_require__("./packages/icons/build-module/library/category.js"),format_list_bullets_rtl=__webpack_require__("./packages/icons/build-module/library/format-list-bullets-rtl.js"),format_list_bullets=__webpack_require__("./packages/icons/build-module/library/format-list-bullets.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_async_list=__webpack_require__("./packages/compose/build-module/hooks/use-async-list/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const library_funnel=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})),library_unseen=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"}));var icon=__webpack_require__("./packages/components/build-module/icon/index.js"),checkbox_control=__webpack_require__("./packages/components/build-module/checkbox-control/index.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js");function SingleSelectionCheckbox({selection,onSelectionChange,item,data,getItemId,primaryField,disabled}){const id=getItemId(item),isSelected=selection.includes(id);let selectionLabel;return selectionLabel=primaryField?.getValue&&item?(0,build_module.gB)(isSelected?(0,build_module.__)("Deselect item: %s"):(0,build_module.__)("Select item: %s"),primaryField.getValue({item})):isSelected?(0,build_module.__)("Select a new item"):(0,build_module.__)("Deselect item"),(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,label:selectionLabel,"aria-disabled":disabled,checked:isSelected,onChange:()=>{disabled||onSelectionChange(isSelected?data.filter((_item=>{const itemId=getItemId?.(_item);return itemId!==id&&selection.includes(itemId)})):data.filter((_item=>{const itemId=getItemId?.(_item);return itemId===id||selection.includes(itemId)})))}})}SingleSelectionCheckbox.displayName="SingleSelectionCheckbox",SingleSelectionCheckbox.__docgenInfo={description:"",methods:[],displayName:"SingleSelectionCheckbox"};var modal=__webpack_require__("./packages/components/build-module/modal/index.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js");const{DropdownMenuV2:DropdownMenu,DropdownMenuGroupV2:DropdownMenuGroup,DropdownMenuItemV2:DropdownMenuItem,DropdownMenuItemLabelV2:DropdownMenuItemLabel,kebabCase}=unlock(private_apis.Y);function ButtonTrigger({action,onClick}){return(0,jsx_runtime.jsx)(build_module_button.ZP,{label:action.label,icon:action.icon,isDestructive:action.isDestructive,size:"compact",onClick})}function DropdownMenuItemTrigger({action,onClick}){return(0,jsx_runtime.jsx)(DropdownMenuItem,{onClick,hideOnClick:!action.RenderModal,children:(0,jsx_runtime.jsx)(DropdownMenuItemLabel,{children:action.label})})}function ActionWithModal({action,item,ActionTrigger}){const[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),actionTriggerProps={action,onClick:()=>setIsModalOpen(!0)},{RenderModal,hideModalHeader}=action;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ActionTrigger,{...actionTriggerProps}),isModalOpen&&(0,jsx_runtime.jsx)(modal.Z,{title:action.modalHeader||action.label,__experimentalHideHeader:!!hideModalHeader,onRequestClose:()=>{setIsModalOpen(!1)},overlayClassName:`dataviews-action-modal dataviews-action-modal__${kebabCase(action.id)}`,children:(0,jsx_runtime.jsx)(RenderModal,{items:[item],closeModal:()=>setIsModalOpen(!1)})})]})}function ActionsDropdownMenuGroup({actions,item}){return(0,jsx_runtime.jsx)(DropdownMenuGroup,{children:actions.map((action=>action.RenderModal?(0,jsx_runtime.jsx)(ActionWithModal,{action,item,ActionTrigger:DropdownMenuItemTrigger},action.id):(0,jsx_runtime.jsx)(DropdownMenuItemTrigger,{action,onClick:()=>action.callback([item])},action.id)))})}function ItemActions({item,actions,isCompact}){const{primaryActions,eligibleActions}=(0,react.useMemo)((()=>{const _eligibleActions=actions.filter((action=>!action.isEligible||action.isEligible(item)));return{primaryActions:_eligibleActions.filter((action=>action.isPrimary&&!!action.icon)),eligibleActions:_eligibleActions}}),[actions,item]);return isCompact?(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions}):(0,jsx_runtime.jsxs)(component.Z,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[!!primaryActions.length&&primaryActions.map((action=>action.RenderModal?(0,jsx_runtime.jsx)(ActionWithModal,{action,item,ActionTrigger:ButtonTrigger},action.id):(0,jsx_runtime.jsx)(ButtonTrigger,{action,onClick:()=>action.callback([item])},action.id))),(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions})]})}function CompactItemActions({item,actions}){return(0,jsx_runtime.jsx)(DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:more_vertical.Z,label:(0,build_module.__)("Actions"),disabled:!actions.length,className:"dataviews-all-actions-button"}),placement:"bottom-end",children:(0,jsx_runtime.jsx)(ActionsDropdownMenuGroup,{actions,item})})}ButtonTrigger.displayName="ButtonTrigger",DropdownMenuItemTrigger.displayName="DropdownMenuItemTrigger",ActionsDropdownMenuGroup.displayName="ActionsDropdownMenuGroup",ItemActions.displayName="ItemActions",CompactItemActions.displayName="CompactItemActions",ItemActions.__docgenInfo={description:"",methods:[],displayName:"ItemActions"};const sanitizeOperators=field=>{let operators=field.filterBy?.operators;return operators&&Array.isArray(operators)||(operators=[OPERATOR_IS_ANY,OPERATOR_IS_NONE]),operators.includes("in")&&(operators=operators.filter((operator=>"is"!==operator)),operators.push("is")),operators.includes("notIn")&&(operators=operators.filter((operator=>"notIn"!==operator)),operators.push("isNot")),operators=operators.filter((operator=>ALL_OPERATORS.includes(operator))),(operators.includes(OPERATOR_IS)||operators.includes(OPERATOR_IS_NOT))&&(operators=operators.filter((operator=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(operator)))),operators},{DropdownMenuV2:bulk_actions_DropdownMenu,DropdownMenuGroupV2:bulk_actions_DropdownMenuGroup,DropdownMenuItemV2:bulk_actions_DropdownMenuItem,DropdownMenuSeparatorV2:DropdownMenuSeparator}=unlock(private_apis.Y);function useHasAPossibleBulkAction(actions,item){return(0,react.useMemo)((()=>actions.some((action=>action.supportsBulk&&action.isEligible(item)))),[actions,item])}function bulk_actions_ActionWithModal({action,selectedItems,setActionWithModal,onMenuOpenChange}){const eligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>action.isEligible(item)))),[action,selectedItems]),{RenderModal,hideModalHeader}=action,onCloseModal=(0,react.useCallback)((()=>{setActionWithModal(void 0)}),[setActionWithModal]);return(0,jsx_runtime.jsx)(modal.Z,{title:!hideModalHeader&&action.label,__experimentalHideHeader:!!hideModalHeader,onRequestClose:onCloseModal,overlayClassName:"dataviews-action-modal",children:(0,jsx_runtime.jsx)(RenderModal,{items:eligibleItems,closeModal:onCloseModal,onPerform:()=>onMenuOpenChange(!1)})})}function BulkActionItem({action,selectedItems,setActionWithModal}){const eligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>action.isEligible(item)))),[action,selectedItems]),shouldShowModal=!!action.RenderModal;return(0,jsx_runtime.jsx)(bulk_actions_DropdownMenuItem,{disabled:0===eligibleItems.length,hideOnClick:!shouldShowModal,onClick:async()=>{shouldShowModal?setActionWithModal(action):await action.callback(eligibleItems)},suffix:eligibleItems.length>0?eligibleItems.length:void 0,children:action.label},action.id)}function ActionsMenuGroup({actions,selectedItems,setActionWithModal}){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(bulk_actions_DropdownMenuGroup,{children:actions.map((action=>(0,jsx_runtime.jsx)(BulkActionItem,{action,selectedItems,setActionWithModal},action.id)))}),(0,jsx_runtime.jsx)(DropdownMenuSeparator,{})]})}function BulkActions({data,actions,selection,onSelectionChange,getItemId}){const bulkActions=(0,react.useMemo)((()=>actions.filter((action=>action.supportsBulk))),[actions]),[isMenuOpen,onMenuOpenChange]=(0,react.useState)(!1),[actionWithModal,setActionWithModal]=(0,react.useState)(),selectableItems=(0,react.useMemo)((()=>data.filter((item=>bulkActions.some((action=>action.isEligible(item)))))),[data,bulkActions]),numberSelectableItems=selectableItems.length,areAllSelected=selection&&selection.length===numberSelectableItems,selectedItems=(0,react.useMemo)((()=>data.filter((item=>selection.includes(getItemId(item))))),[selection,data,getItemId]),hasNonSelectableItemSelected=(0,react.useMemo)((()=>selectedItems.some((item=>!selectableItems.includes(item)))),[selectedItems,selectableItems]);return(0,react.useEffect)((()=>{hasNonSelectableItemSelected&&onSelectionChange(selectedItems.filter((selectedItem=>selectableItems.some((item=>getItemId(selectedItem)===getItemId(item))))))}),[hasNonSelectableItemSelected,selectedItems,selectableItems,getItemId,onSelectionChange]),0===bulkActions.length?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(bulk_actions_DropdownMenu,{open:isMenuOpen,onOpenChange:onMenuOpenChange,label:(0,build_module.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-bulk-edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact",children:selection.length?(0,build_module.gB)((0,build_module._n)("Edit %d item","Edit %d items",selection.length),selection.length):(0,build_module.__)("Bulk edit")}),children:[(0,jsx_runtime.jsx)(ActionsMenuGroup,{actions:bulkActions,setActionWithModal,selectedItems}),(0,jsx_runtime.jsxs)(bulk_actions_DropdownMenuGroup,{children:[(0,jsx_runtime.jsx)(bulk_actions_DropdownMenuItem,{disabled:areAllSelected,hideOnClick:!1,onClick:()=>{onSelectionChange(selectableItems)},suffix:numberSelectableItems,children:(0,build_module.__)("Select all")}),(0,jsx_runtime.jsx)(bulk_actions_DropdownMenuItem,{disabled:0===selection.length,hideOnClick:!1,onClick:()=>{onSelectionChange([])},children:(0,build_module.__)("Deselect")})]})]}),actionWithModal&&(0,jsx_runtime.jsx)(bulk_actions_ActionWithModal,{action:actionWithModal,selectedItems,setActionWithModal,onMenuOpenChange})]})}bulk_actions_ActionWithModal.displayName="ActionWithModal",BulkActionItem.displayName="BulkActionItem",BulkActions.__docgenInfo={description:"",methods:[],displayName:"BulkActions"};const{DropdownMenuV2:view_table_DropdownMenu,DropdownMenuGroupV2:view_table_DropdownMenuGroup,DropdownMenuItemV2:view_table_DropdownMenuItem,DropdownMenuRadioItemV2:DropdownMenuRadioItem,DropdownMenuItemLabelV2:view_table_DropdownMenuItemLabel,DropdownMenuSeparatorV2:view_table_DropdownMenuSeparator}=unlock(private_apis.Y);function WithDropDownMenuSeparators({children}){return react.Children.toArray(children).filter(Boolean).map(((child,i)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[i>0&&(0,jsx_runtime.jsx)(view_table_DropdownMenuSeparator,{}),child]},i)))}const sortArrows={asc:"↑",desc:"↓"},HeaderMenu=(0,react.forwardRef)((function HeaderMenu({field,view,onChangeView,onHide,setOpenedFilter},ref){const isHidable=!1!==field.enableHiding,isSortable=!1!==field.enableSorting,isSorted=view.sort?.field===field.id,operators=sanitizeOperators(field),canAddFilter=!view.filters?.some((_filter=>field.id===_filter.field))&&field.type===ENUMERATION_TYPE&&!!operators.length&&!field.filterBy?.isPrimary;return isSortable||isHidable||canAddFilter?(0,jsx_runtime.jsx)(view_table_DropdownMenu,{align:"start",trigger:(0,jsx_runtime.jsxs)(build_module_button.ZP,{size:"compact",className:"dataviews-view-table-header-button",ref,variant:"tertiary",children:[field.header,isSorted&&(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:isSorted&&sortArrows[view.sort.direction]})]}),style:{minWidth:"240px"},children:(0,jsx_runtime.jsxs)(WithDropDownMenuSeparators,{children:[isSortable&&(0,jsx_runtime.jsx)(view_table_DropdownMenuGroup,{children:Object.entries(SORTING_DIRECTIONS).map((([direction,info])=>{const isChecked=isSorted&&view.sort.direction===direction,value=`${field.id}-${direction}`;return(0,jsx_runtime.jsx)(DropdownMenuRadioItem,{name:"view-table-sorting",value,checked:isChecked,onChange:()=>{onChangeView({...view,sort:{field:field.id,direction}})},children:(0,jsx_runtime.jsx)(view_table_DropdownMenuItemLabel,{children:info.label})},value)}))}),canAddFilter&&(0,jsx_runtime.jsx)(view_table_DropdownMenuGroup,{children:(0,jsx_runtime.jsx)(view_table_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:library_funnel}),onClick:()=>{setOpenedFilter(field.id),onChangeView({...view,page:1,filters:[...view.filters||[],{field:field.id,value:void 0,operator:operators[0]}]})},children:(0,jsx_runtime.jsx)(view_table_DropdownMenuItemLabel,{children:(0,build_module.__)("Add filter")})})}),isHidable&&(0,jsx_runtime.jsx)(view_table_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:library_unseen}),onClick:()=>{onHide(field),onChangeView({...view,hiddenFields:view.hiddenFields.concat(field.id)})},children:(0,jsx_runtime.jsx)(view_table_DropdownMenuItemLabel,{children:(0,build_module.__)("Hide")})})]})}):field.header}));function BulkSelectionCheckbox({selection,onSelectionChange,data,actions}){const selectableItems=(0,react.useMemo)((()=>data.filter((item=>actions.some((action=>action.supportsBulk&&action.isEligible(item)))))),[data,actions]),areAllSelected=selection.length===selectableItems.length;return(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:areAllSelected,indeterminate:!areAllSelected&&selection.length,onChange:()=>{onSelectionChange(areAllSelected?[]:selectableItems)},label:areAllSelected?(0,build_module.__)("Deselect all"):(0,build_module.__)("Select all")})}function TableRow({hasBulkActions,item,actions,id,visibleFields,primaryField,selection,getItemId,onSelectionChange,data}){const hasPossibleBulkAction=useHasAPossibleBulkAction(actions,item),isSelected=selection.includes(id),[isHovered,setIsHovered]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("tr",{className:classnames_default()("dataviews-view-table__row",{"is-selected":hasPossibleBulkAction&&selection.includes(id),"is-hovered":isHovered}),onMouseEnter:()=>{setIsHovered(!0)},onMouseLeave:()=>{setIsHovered(!1)},onClickCapture:event=>{if(event.ctrlKey||event.metaKey){if(event.stopPropagation(),event.preventDefault(),!hasPossibleBulkAction)return;onSelectionChange(isSelected?data.filter((_item=>{const itemId=getItemId?.(_item);return itemId!==id&&selection.includes(itemId)})):data.filter((_item=>{const itemId=getItemId?.(_item);return itemId===id||selection.includes(itemId)})))}},children:[hasBulkActions&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:20,minWidth:20},children:(0,jsx_runtime.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,jsx_runtime.jsx)(SingleSelectionCheckbox,{id,item,selection,onSelectionChange,getItemId,data,primaryField,disabled:!hasPossibleBulkAction})})}),visibleFields.map((field=>(0,jsx_runtime.jsx)("td",{style:{width:field.width||void 0,minWidth:field.minWidth||void 0,maxWidth:field.maxWidth||void 0},children:(0,jsx_runtime.jsx)("div",{className:classnames_default()("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":primaryField?.id===field.id}),children:field.render({item})})},field.id))),!!actions?.length&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__actions-column",children:(0,jsx_runtime.jsx)(ItemActions,{item,actions})})]})}function ViewTable({view,onChangeView,fields,actions,data,getItemId,isLoading=!1,deferredRendering,selection,onSelectionChange,setOpenedFilter}){const headerMenuRefs=(0,react.useRef)(new Map),headerMenuToFocusRef=(0,react.useRef)(),[nextHeaderMenuToFocus,setNextHeaderMenuToFocus]=(0,react.useState)(),hasBulkActions=function useSomeItemHasAPossibleBulkAction(actions,data){return(0,react.useMemo)((()=>data.some((item=>actions.some((action=>action.supportsBulk&&action.isEligible(item)))))),[actions,data])}(actions,data);(0,react.useEffect)((()=>{headerMenuToFocusRef.current&&(headerMenuToFocusRef.current.focus(),headerMenuToFocusRef.current=void 0)}));const asyncData=(0,use_async_list.Z)(data),tableNoticeId=(0,react.useId)();if(nextHeaderMenuToFocus)return headerMenuToFocusRef.current=nextHeaderMenuToFocus,void setNextHeaderMenuToFocus();const onHide=field=>{const hidden=headerMenuRefs.current.get(field.id),fallback=headerMenuRefs.current.get(hidden.fallback);setNextHeaderMenuToFocus(fallback?.node)},visibleFields=fields.filter((field=>!view.hiddenFields.includes(field.id)&&![view.layout.mediaField].includes(field.id))),usedData=deferredRendering?asyncData:data,hasData=!!usedData?.length,sortValues={asc:"ascending",desc:"descending"},primaryField=fields.find((field=>field.id===view.layout.primaryField));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("table",{className:"dataviews-view-table","aria-busy":isLoading,"aria-describedby":tableNoticeId,children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{className:"dataviews-view-table__row",children:[hasBulkActions&&(0,jsx_runtime.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:20,minWidth:20},"data-field-id":"selection",scope:"col",children:(0,jsx_runtime.jsx)(BulkSelectionCheckbox,{selection,onSelectionChange,data,actions})}),visibleFields.map(((field,index)=>(0,jsx_runtime.jsx)("th",{style:{width:field.width||void 0,minWidth:field.minWidth||void 0,maxWidth:field.maxWidth||void 0},"data-field-id":field.id,"aria-sort":view.sort?.field===field.id&&sortValues[view.sort.direction],scope:"col",children:(0,jsx_runtime.jsx)(HeaderMenu,{ref:node=>{node?headerMenuRefs.current.set(field.id,{node,fallback:visibleFields[index>0?index-1:1]?.id}):headerMenuRefs.current.delete(field.id)},field,view,onChangeView,onHide,setOpenedFilter})},field.id))),!!actions?.length&&(0,jsx_runtime.jsx)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column",children:(0,jsx_runtime.jsx)("span",{className:"dataviews-view-table-header",children:(0,build_module.__)("Actions")})})]})}),(0,jsx_runtime.jsx)("tbody",{children:hasData&&usedData.map(((item,index)=>(0,jsx_runtime.jsx)(TableRow,{item,hasBulkActions,actions,id:getItemId(item)||index,visibleFields,primaryField,selection,getItemId,onSelectionChange,data},getItemId(item))))})]}),(0,jsx_runtime.jsx)("div",{className:classnames_default()({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),id:tableNoticeId,children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})}BulkSelectionCheckbox.displayName="BulkSelectionCheckbox",TableRow.displayName="TableRow";const view_table=ViewTable;ViewTable.__docgenInfo={description:"",methods:[],displayName:"ViewTable",props:{isLoading:{defaultValue:{value:"false",computed:!1},required:!1}}};var v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),grid_component=__webpack_require__("./packages/components/build-module/grid/component.js");function GridItem({selection,data,onSelectionChange,getItemId,item,actions,mediaField,primaryField,visibleFields}){const hasBulkAction=useHasAPossibleBulkAction(actions,item),id=getItemId(item),isSelected=selection.includes(id);return(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,className:classnames_default()("dataviews-view-grid__card",{"is-selected":hasBulkAction&&isSelected}),onClickCapture:event=>{if(event.ctrlKey||event.metaKey){if(event.stopPropagation(),event.preventDefault(),!hasBulkAction)return;onSelectionChange(isSelected?data.filter((_item=>{const itemId=getItemId?.(_item);return itemId!==id&&selection.includes(itemId)})):data.filter((_item=>{const itemId=getItemId?.(_item);return itemId===id||selection.includes(itemId)})))}},children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-grid__media",children:mediaField?.render({item})}),(0,jsx_runtime.jsxs)(component.Z,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,jsx_runtime.jsx)(SingleSelectionCheckbox,{id,item,selection,onSelectionChange,getItemId,data,primaryField,disabled:!hasBulkAction}),(0,jsx_runtime.jsx)(component.Z,{className:"dataviews-view-grid__primary-field",children:primaryField?.render({item})}),(0,jsx_runtime.jsx)(ItemActions,{item,actions,isCompact:!0})]}),(0,jsx_runtime.jsx)(v_stack_component.Z,{className:"dataviews-view-grid__fields",spacing:3,children:visibleFields.map((field=>{const renderedValue=field.render({item});return renderedValue?(0,jsx_runtime.jsx)(v_stack_component.Z,{className:"dataviews-view-grid__field",spacing:1,children:(0,jsx_runtime.jsx)(tooltip.ZP,{text:field.header,placement:"left",children:(0,jsx_runtime.jsx)("div",{className:"dataviews-view-grid__field-value",children:renderedValue})})},field.id):null}))})]},id)}function ViewGrid({data,fields,view,actions,isLoading,getItemId,deferredRendering,selection,onSelectionChange}){const mediaField=fields.find((field=>field.id===view.layout.mediaField)),primaryField=fields.find((field=>field.id===view.layout.primaryField)),visibleFields=fields.filter((field=>!view.hiddenFields.includes(field.id)&&![view.layout.mediaField,view.layout.primaryField].includes(field.id))),shownData=(0,use_async_list.Z)(data,{step:3}),usedData=deferredRendering?shownData:data,hasData=!!usedData?.length;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[hasData&&(0,jsx_runtime.jsx)(grid_component.Z,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":isLoading,children:usedData.map((item=>(0,jsx_runtime.jsx)(GridItem,{selection,data,onSelectionChange,getItemId,item,actions,mediaField,primaryField,visibleFields},getItemId(item))))}),!hasData&&(0,jsx_runtime.jsx)("div",{className:classnames_default()({"dataviews-loading":isLoading,"dataviews-no-results":!isLoading}),children:(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})}GridItem.displayName="GridItem",ViewGrid.__docgenInfo={description:"",methods:[],displayName:"ViewGrid"};var keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js"),info=__webpack_require__("./packages/icons/build-module/library/info.js");function ViewList({view,fields,data,isLoading,getItemId,onSelectionChange,onDetailsChange,selection,deferredRendering}){const shownData=(0,use_async_list.Z)(data,{step:3}),usedData=deferredRendering?shownData:data,mediaField=fields.find((field=>field.id===view.layout.mediaField)),primaryField=fields.find((field=>field.id===view.layout.primaryField)),visibleFields=fields.filter((field=>!view.hiddenFields.includes(field.id)&&![view.layout.primaryField,view.layout.mediaField].includes(field.id))),onEnter=item=>event=>{const{keyCode}=event;[keycodes_build_module.K5,keycodes_build_module.L_].includes(keyCode)&&onSelectionChange([item])},hasData=usedData?.length;return hasData?(0,jsx_runtime.jsx)("ul",{className:"dataviews-view-list",children:usedData.map((item=>(0,jsx_runtime.jsx)("li",{className:classnames_default()({"is-selected":selection.includes(item.id)}),children:(0,jsx_runtime.jsxs)(component.Z,{className:"dataviews-view-list__item-wrapper",children:[(0,jsx_runtime.jsx)("div",{role:"button",tabIndex:0,"aria-pressed":selection.includes(item.id),onKeyDown:onEnter(item),className:"dataviews-view-list__item",onClick:()=>onSelectionChange([item]),children:(0,jsx_runtime.jsxs)(component.Z,{spacing:3,justify:"start",alignment:"flex-start",children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:mediaField?.render({item})||(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-placeholder"})}),(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:1,children:[(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__primary-field",children:primaryField?.render({item})}),(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__fields",children:visibleFields.map((field=>(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__field",children:field.render({item})},field.id)))})]})]})}),onDetailsChange&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-view-list__details-button",onClick:()=>onDetailsChange([item]),icon:info.Z,label:(0,build_module.__)("View details"),size:"compact"})]})},getItemId(item))))}):(0,jsx_runtime.jsx)("div",{className:classnames_default()({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})}ViewList.displayName="ViewList",ViewList.__docgenInfo={description:"",methods:[],displayName:"ViewList"};const ENUMERATION_TYPE="enumeration",OPERATOR_IS="is",OPERATOR_IS_NOT="isNot",OPERATOR_IS_ANY="isAny",OPERATOR_IS_NONE="isNone",ALL_OPERATORS=[OPERATOR_IS,OPERATOR_IS_NOT,OPERATOR_IS_ANY,OPERATOR_IS_NONE],OPERATORS={[OPERATOR_IS]:{key:"is-filter",label:(0,build_module.__)("Is")},[OPERATOR_IS_NOT]:{key:"is-not-filter",label:(0,build_module.__)("Is not")},[OPERATOR_IS_ANY]:{key:"is-any-filter",label:(0,build_module.__)("Is any")},[OPERATOR_IS_NONE]:{key:"is-none-filter",label:(0,build_module.__)("Is none")}},SORTING_DIRECTIONS={asc:{label:(0,build_module.__)("Sort ascending")},desc:{label:(0,build_module.__)("Sort descending")}},LAYOUT_TABLE="table",LAYOUT_GRID="grid",VIEW_LAYOUTS=[{type:LAYOUT_TABLE,label:(0,build_module.__)("Table"),component:view_table,icon:block_table.Z},{type:LAYOUT_GRID,label:(0,build_module.__)("Grid"),component:ViewGrid,icon:category.Z},{type:"list",label:(0,build_module.__)("List"),component:ViewList,icon:(0,build_module.dZ)()?format_list_bullets_rtl.Z:format_list_bullets.Z}],{DropdownMenuV2:view_actions_DropdownMenu,DropdownMenuGroupV2:view_actions_DropdownMenuGroup,DropdownMenuItemV2:view_actions_DropdownMenuItem,DropdownMenuRadioItemV2:view_actions_DropdownMenuRadioItem,DropdownMenuCheckboxItemV2:DropdownMenuCheckboxItem,DropdownMenuItemLabelV2:view_actions_DropdownMenuItemLabel}=unlock(private_apis.Y);function ViewTypeMenu({view,onChangeView,supportedLayouts}){let _availableViews=VIEW_LAYOUTS;if(supportedLayouts&&(_availableViews=_availableViews.filter((_view=>supportedLayouts.includes(_view.type)))),1===_availableViews.length)return null;const activeView=_availableViews.find((v=>view.type===v.type));return(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItem,{suffix:(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:activeView.label}),children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:(0,build_module.__)("Layout")})}),children:_availableViews.map((availableView=>(0,jsx_runtime.jsx)(view_actions_DropdownMenuRadioItem,{value:availableView.type,name:"view-actions-available-view",checked:availableView.type===view.type,hideOnClick:!0,onChange:e=>{onChangeView({...view,type:e.target.value})},children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:availableView.label})},availableView.type)))})}ViewTypeMenu.displayName="ViewTypeMenu";const PAGE_SIZE_VALUES=[10,20,50,100];function PageSizeMenu({view,onChangeView}){return(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItem,{suffix:(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:view.perPage}),children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:(0,build_module.__)("Items per page")})}),children:PAGE_SIZE_VALUES.map((size=>(0,jsx_runtime.jsx)(view_actions_DropdownMenuRadioItem,{value:size,name:"view-actions-page-size",checked:view.perPage===size,onChange:()=>{onChangeView({...view,perPage:size,page:1})},children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:size})},size)))})}function FieldsVisibilityMenu({view,onChangeView,fields}){const hidableFields=fields.filter((field=>!1!==field.enableHiding&&field.id!==view.layout.mediaField));return hidableFields?.length?(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItem,{children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:(0,build_module.__)("Fields")})}),children:hidableFields?.map((field=>(0,jsx_runtime.jsx)(DropdownMenuCheckboxItem,{value:field.id,checked:!view.hiddenFields?.includes(field.id),onChange:()=>{onChangeView({...view,hiddenFields:view.hiddenFields?.includes(field.id)?view.hiddenFields.filter((id=>id!==field.id)):[...view.hiddenFields||[],field.id]})},children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:field.header})},field.id)))}):null}function SortMenu({fields,view,onChangeView}){const sortableFields=fields.filter((field=>!1!==field.enableSorting));if(!sortableFields?.length)return null;const currentSortedField=fields.find((field=>field.id===view.sort?.field));return(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItem,{suffix:(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:currentSortedField?.header}),children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:(0,build_module.__)("Sort by")})}),children:sortableFields?.map((field=>{const sortedDirection=view.sort?.direction;return(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItem,{children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:field.header})}),style:{minWidth:"220px"},children:Object.entries(SORTING_DIRECTIONS).map((([direction,info])=>{const isChecked=void 0!==currentSortedField&&sortedDirection===direction&&field.id===currentSortedField.id,value=`${field.id}-${direction}`;return(0,jsx_runtime.jsx)(view_actions_DropdownMenuRadioItem,{name:"view-actions-sorting",value,checked:isChecked,onChange:()=>{onChangeView({...view,sort:{field:field.id,direction}})},children:(0,jsx_runtime.jsx)(view_actions_DropdownMenuItemLabel,{children:info.label})},value)}))},field.id)}))})}PageSizeMenu.displayName="PageSizeMenu",FieldsVisibilityMenu.displayName="FieldsVisibilityMenu",SortMenu.displayName="SortMenu";const ViewActions=(0,react.memo)((function ViewActions({fields,view,onChangeView,supportedLayouts}){return(0,jsx_runtime.jsx)(view_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:settings.Z,label:(0,build_module.__)("View options")}),children:(0,jsx_runtime.jsxs)(view_actions_DropdownMenuGroup,{children:[(0,jsx_runtime.jsx)(ViewTypeMenu,{view,onChangeView,supportedLayouts}),(0,jsx_runtime.jsx)(SortMenu,{fields,view,onChangeView}),(0,jsx_runtime.jsx)(FieldsVisibilityMenu,{fields,view,onChangeView}),(0,jsx_runtime.jsx)(PageSizeMenu,{view,onChangeView})]})})})),view_actions=ViewActions;ViewActions.__docgenInfo={description:"",methods:[],displayName:"ViewActions"};var flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),DMSZFK7W=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/DMSZFK7W.js"),WL6TTPTB=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/WL6TTPTB.js"),combobox_provider=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-provider.js"),combobox_label=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-label.js"),combobox=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox.js"),Y3BYYHRY=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/Y3BYYHRY.js"),combobox_item=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item.js"),combobox_item_value=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item-value.js"),remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),check=__webpack_require__("./packages/icons/build-module/library/check.js"),search=__webpack_require__("./packages/icons/build-module/library/search.js");const{CompositeV2:Composite,CompositeItemV2:CompositeItem,useCompositeStoreV2:useCompositeStore}=unlock(private_apis.Y),radioCheck=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.Cd,{cx:12,cy:12,r:3})});function normalizeSearchInput(input=""){return remove_accents_default()(input.trim().toLowerCase())}const getCurrentValue=(filterDefinition,currentFilter)=>filterDefinition.singleSelection?currentFilter?.value:Array.isArray(currentFilter?.value)?currentFilter.value:!Array.isArray(currentFilter?.value)&&currentFilter?.value?[currentFilter.value]:[],getNewValue=(filterDefinition,currentFilter,value)=>filterDefinition.singleSelection?value:Array.isArray(currentFilter?.value)?currentFilter.value.includes(value)?currentFilter.value.filter((v=>v!==value)):[...currentFilter.value,value]:[value];function ListBox({view,filter,onChangeView}){const compositeStore=useCompositeStore({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===filter.operators?.length?void 0:null}),currentFilter=view.filters.find((f=>f.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter);return(0,jsx_runtime.jsx)(Composite,{store:compositeStore,role:"listbox",className:"dataviews-search-widget-listbox","aria-label":(0,build_module.gB)((0,build_module.__)("List of: %1$s"),filter.name),onFocusVisible:()=>{compositeStore.getState().activeId||compositeStore.move(compositeStore.first())},render:(0,jsx_runtime.jsx)(DMSZFK7W.$,{store:compositeStore}),children:filter.elements.map((element=>(0,jsx_runtime.jsxs)(WL6TTPTB.N,{store:compositeStore,render:(0,jsx_runtime.jsx)(CompositeItem,{render:(0,jsx_runtime.jsx)("div",{"aria-label":element.label,role:"option",className:"dataviews-search-widget-listitem"}),onClick:()=>{const newFilters=currentFilter?[...view.filters.map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}:_filter))]:[...view.filters,{field:filter.field,operator:filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}];onChangeView({...view,page:1,filters:newFilters})}}),children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsxs)("span",{children:[element.label,!!element.description&&(0,jsx_runtime.jsx)("span",{className:"dataviews-search-widget-listitem-description",children:element.description})]})]},element.value)))})}function ComboboxList({view,filter,onChangeView}){const[searchValue,setSearchValue]=(0,react.useState)(""),deferredSearchValue=(0,react.useDeferredValue)(searchValue),currentFilter=view.filters.find((_filter=>_filter.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter),matches=(0,react.useMemo)((()=>{const normalizedSearch=normalizeSearchInput(deferredSearchValue);return filter.elements.filter((item=>normalizeSearchInput(item.label).includes(normalizedSearch)))}),[filter.elements,deferredSearchValue]);return(0,jsx_runtime.jsxs)(combobox_provider.e,{value:searchValue,selectedValue:currentValue,setSelectedValue:value=>{const newFilters=currentFilter?[...view.filters.map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value}:_filter))]:[...view.filters,{field:filter.field,operator:filter.operators[0],value}];onChangeView({...view,page:1,filters:newFilters})},setValue:setSearchValue,children:[(0,jsx_runtime.jsxs)("div",{className:"dataviews-search-widget-filter-combobox__wrapper",children:[(0,jsx_runtime.jsx)(combobox_label.N,{render:(0,jsx_runtime.jsx)(visually_hidden_component.Z,{}),children:(0,build_module.__)("Search items")}),(0,jsx_runtime.jsx)(combobox.h,{autoSelect:"always",placeholder:(0,build_module.__)("Search"),className:"dataviews-search-widget-filter-combobox__input"}),(0,jsx_runtime.jsx)("div",{className:"dataviews-search-widget-filter-combobox__icon",children:(0,jsx_runtime.jsx)(icon.Z,{icon:search.Z})})]}),(0,jsx_runtime.jsxs)(Y3BYYHRY.G,{className:"dataviews-search-widget-filter-combobox-list",alwaysVisible:!0,children:[matches.map((element=>(0,jsx_runtime.jsxs)(combobox_item.l,{value:element.value,className:"dataviews-search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)(combobox_item_value.X,{className:"dataviews-search-widget-filter-combobox-item-value",value:element.label}),!!element.description&&(0,jsx_runtime.jsx)("span",{className:"dataviews-search-widget-listitem-description",children:element.description})]})]},element.value))),!matches.length&&(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("No results found")})]})]})}function SearchWidget(props){const Widget=props.filter.elements.length>10?ComboboxList:ListBox;return(0,jsx_runtime.jsx)(Widget,{...props})}ListBox.displayName="ListBox",ComboboxList.displayName="ComboboxList",SearchWidget.displayName="SearchWidget",SearchWidget.__docgenInfo={description:"",methods:[],displayName:"SearchWidget"};const FilterText=({activeElements,filterInView,filter})=>{if(void 0===activeElements||0===activeElements.length)return filter.name;const filterTextWrappers={Name:(0,jsx_runtime.jsx)("span",{className:"dataviews-filter-summary__filter-text-name"}),Value:(0,jsx_runtime.jsx)("span",{className:"dataviews-filter-summary__filter-text-value"})};return filterInView?.operator===OPERATOR_IS_ANY?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NONE?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NOT?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):(0,build_module.gB)((0,build_module.__)("Unknown status for %1$s"),filter.name)};function OperatorSelector({filter,view,onChangeView}){const operatorOptions=filter.operators?.map((operator=>({value:operator,label:OPERATORS[operator]?.label}))),currentFilter=view.filters.find((_filter=>_filter.field===filter.field)),value=currentFilter?.operator||filter.operators[0];return operatorOptions.length>1&&(0,jsx_runtime.jsxs)(component.Z,{spacing:2,justify:"flex-start",className:"dataviews-filter-summary__operators-container",children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-filter-summary__operators-filter-name",children:filter.name}),(0,jsx_runtime.jsx)(select_control.Z,{label:(0,build_module.__)("Conditions"),value,options:operatorOptions,onChange:newValue=>{const newFilters=currentFilter?[...view.filters.map((_filter=>_filter.field===filter.field?{..._filter,operator:newValue}:_filter))]:[...view.filters,{field:filter.field,operator:newValue}];onChangeView({...view,page:1,filters:newFilters})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function FilterSummary({addFilterRef,openedFilter,...commonProps}){const toggleRef=(0,react.useRef)(),{filter,view,onChangeView}=commonProps,filterInView=view.filters.find((f=>f.field===filter.field)),activeElements=filter.elements.filter((element=>filter.singleSelection?element.value===filterInView?.value:filterInView?.value?.includes(element.value))),isPrimary=filter.isPrimary,hasValues=void 0!==filterInView?.value,canResetOrRemove=!isPrimary||hasValues;return(0,jsx_runtime.jsx)(dropdown.Z,{defaultOpen:openedFilter===filter.field,contentClassName:"dataviews-filter-summary__popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{toggleRef.current?.focus()},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsxs)("div",{className:"dataviews-filter-summary__chip-container",children:[(0,jsx_runtime.jsx)(tooltip.ZP,{text:(0,build_module.gB)((0,build_module.__)("Filter by: %1$s"),filter.name.toLowerCase()),placement:"top",children:(0,jsx_runtime.jsx)("div",{className:classnames_default()("dataviews-filter-summary__chip",{"has-reset":canResetOrRemove,"has-values":hasValues}),role:"button",tabIndex:0,onClick:onToggle,onKeyDown:event=>{[keycodes_build_module.K5,keycodes_build_module.L_].includes(event.keyCode)&&(onToggle(),event.preventDefault())},"aria-pressed":isOpen,"aria-expanded":isOpen,ref:toggleRef,children:(0,jsx_runtime.jsx)(FilterText,{activeElements,filterInView,filter})})}),canResetOrRemove&&(0,jsx_runtime.jsx)(tooltip.ZP,{text:isPrimary?(0,build_module.__)("Reset"):(0,build_module.__)("Remove"),placement:"top",children:(0,jsx_runtime.jsx)("button",{className:classnames_default()("dataviews-filter-summary__chip-remove",{"has-values":hasValues}),onClick:()=>{onChangeView({...view,page:1,filters:view.filters.filter((_filter=>_filter.field!==filter.field))}),isPrimary?toggleRef.current?.focus():addFilterRef.current?.focus()},children:(0,jsx_runtime.jsx)(icon.Z,{icon:close_small.Z})})})]}),renderContent:()=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,justify:"flex-start",children:[(0,jsx_runtime.jsx)(OperatorSelector,{...commonProps}),(0,jsx_runtime.jsx)(SearchWidget,{...commonProps})]})})}FilterSummary.displayName="FilterSummary",FilterSummary.__docgenInfo={description:"",methods:[],displayName:"FilterSummary"};const{DropdownMenuV2:add_filter_DropdownMenu,DropdownMenuItemV2:add_filter_DropdownMenuItem,DropdownMenuItemLabelV2:add_filter_DropdownMenuItemLabel}=unlock(private_apis.Y);function AddFilter({filters,view,onChangeView,setOpenedFilter},ref){if(!filters.length||filters.every((({isPrimary})=>isPrimary)))return null;const inactiveFilters=filters.filter((filter=>!filter.isVisible));return(0,jsx_runtime.jsx)(add_filter_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{__experimentalIsFocusable:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!inactiveFilters.length,ref,children:(0,build_module.__)("Add filter")}),children:inactiveFilters.map((filter=>(0,jsx_runtime.jsx)(add_filter_DropdownMenuItem,{onClick:()=>{setOpenedFilter(filter.field),onChangeView({...view,page:1,filters:[...view.filters||[],{field:filter.field,value:void 0,operator:filter.operators[0]}]})},children:(0,jsx_runtime.jsx)(add_filter_DropdownMenuItemLabel,{children:filter.name})},filter.field)))})}AddFilter.displayName="AddFilter";const add_filter=(0,react.forwardRef)(AddFilter);function ResetFilter({filters,view,onChangeView}){const isDisabled=!view.search&&!view.filters?.some((_filter=>{return void 0!==_filter.value||(field=_filter.field,!filters.some((_filter=>_filter.field===field&&_filter.isPrimary)));var field}));return(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:isDisabled,__experimentalIsFocusable:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{onChangeView({...view,page:1,search:"",filters:[]})},children:(0,build_module.__)("Reset")})}AddFilter.__docgenInfo={description:"",methods:[],displayName:"AddFilter"},ResetFilter.displayName="ResetFilter",ResetFilter.__docgenInfo={description:"",methods:[],displayName:"ResetFilter"};const Filters=(0,react.memo)((function Filters({fields,view,onChangeView,openedFilter,setOpenedFilter}){const addFilterRef=(0,react.useRef)(),filters=[];fields.forEach((field=>{if(!field.type)return;const operators=sanitizeOperators(field);if(0!==operators.length&&field.type===ENUMERATION_TYPE){if(!field.elements?.length)return;const isPrimary=!!field.filterBy?.isPrimary;filters.push({field:field.id,name:field.header,elements:field.elements,singleSelection:operators.some((op=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(op))),operators,isVisible:isPrimary||view.filters.some((f=>f.field===field.id&&ALL_OPERATORS.includes(f.operator))),isPrimary})}})),filters.sort(((a,b)=>a.isPrimary&&!b.isPrimary?-1:!a.isPrimary&&b.isPrimary?1:a.name.localeCompare(b.name)));const addFilter=(0,jsx_runtime.jsx)(add_filter,{filters,view,onChangeView,ref:addFilterRef,setOpenedFilter},"add-filter"),filterComponents=[...filters.map((filter=>filter.isVisible?(0,jsx_runtime.jsx)(FilterSummary,{filter,view,onChangeView,addFilterRef,openedFilter},filter.field):null)),addFilter];return filterComponents.length>1&&filterComponents.push((0,jsx_runtime.jsx)(ResetFilter,{filters,view,onChangeView},"reset-filters")),(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,children:filterComponents})})),filters=Filters;Filters.__docgenInfo={description:"",methods:[],displayName:"Filters"};var search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),use_debounced_input=__webpack_require__("./packages/compose/build-module/hooks/use-debounced-input/index.js");const Search=(0,react.memo)((function Search({label,view,onChangeView}){const[search,setSearch,debouncedSearch]=(0,use_debounced_input.Z)(view.search);(0,react.useEffect)((()=>{setSearch(view.search)}),[view]);const onChangeViewRef=(0,react.useRef)(onChangeView);(0,react.useEffect)((()=>{onChangeViewRef.current=onChangeView}),[onChangeView]),(0,react.useEffect)((()=>{onChangeViewRef.current({...view,page:1,search:debouncedSearch})}),[debouncedSearch]);const searchLabel=label||(0,build_module.__)("Search");return(0,jsx_runtime.jsx)(search_control.Z,{__nextHasNoMarginBottom:!0,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel,size:"compact"})})),src_search=Search;Search.__docgenInfo={description:"",methods:[],displayName:"Search"};const defaultGetItemId=item=>item.id,defaultOnSelectionChange=()=>{};function DataViews({view,onChangeView,fields,search=!0,searchLabel,actions=[],data,getItemId=defaultGetItemId,isLoading=!1,paginationInfo,supportedLayouts,onSelectionChange=defaultOnSelectionChange,onDetailsChange=null,deferredRendering=!1}){const[selection,setSelection]=(0,react.useState)([]),[openedFilter,setOpenedFilter]=(0,react.useState)(null);(0,react.useEffect)((()=>{if(selection.length>0&&selection.some((id=>!data.some((item=>getItemId(item)===id))))){const newSelection=selection.filter((id=>data.some((item=>getItemId(item)===id))));setSelection(newSelection),onSelectionChange(data.filter((item=>newSelection.includes(getItemId(item)))))}}),[selection,data,getItemId,onSelectionChange]);const onSetSelection=(0,react.useCallback)((items=>{setSelection(items.map((item=>getItemId(item)))),onSelectionChange(items)}),[setSelection,getItemId,onSelectionChange]),ViewComponent=VIEW_LAYOUTS.find((v=>v.type===view.type)).component,_fields=(0,react.useMemo)((()=>fields.map((field=>{const getValue=field.getValue||(({item})=>item[field.id]);return{...field,getValue,render:field.render||getValue}}))),[fields]),hasPossibleBulkAction=function dataviews_useSomeItemHasAPossibleBulkAction(actions,data){return(0,react.useMemo)((()=>data.some((item=>actions.some((action=>action.supportsBulk&&action.isEligible(item)))))),[actions,data])}(actions,data);return(0,jsx_runtime.jsxs)("div",{className:"dataviews-wrapper",children:[(0,jsx_runtime.jsxs)(component.Z,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions",children:[(0,jsx_runtime.jsxs)(component.Z,{justify:"start",className:"dataviews-filters__container",wrap:!0,children:[search&&(0,jsx_runtime.jsx)(src_search,{label:searchLabel,view,onChangeView}),(0,jsx_runtime.jsx)(filters,{fields:_fields,view,onChangeView,openedFilter,setOpenedFilter})]}),[LAYOUT_TABLE,LAYOUT_GRID].includes(view.type)&&hasPossibleBulkAction&&(0,jsx_runtime.jsx)(BulkActions,{actions,data,onSelectionChange:onSetSelection,selection,getItemId}),(0,jsx_runtime.jsx)(view_actions,{fields:_fields,view,onChangeView,supportedLayouts})]}),(0,jsx_runtime.jsx)(ViewComponent,{fields:_fields,view,onChangeView,actions,data,getItemId,isLoading,onSelectionChange:onSetSelection,onDetailsChange,selection,deferredRendering,setOpenedFilter}),(0,jsx_runtime.jsx)(pagination,{view,onChangeView,paginationInfo})]})}DataViews.displayName="DataViews",DataViews.__docgenInfo={description:"",methods:[],displayName:"DataViews",props:{search:{defaultValue:{value:"true",computed:!1},required:!1},searchLabel:{defaultValue:{value:"undefined",computed:!0},required:!1},actions:{defaultValue:{value:"[]",computed:!1},required:!1},getItemId:{defaultValue:{value:"( item ) => item.id",computed:!1},required:!1},isLoading:{defaultValue:{value:"false",computed:!1},required:!1},onSelectionChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},onDetailsChange:{defaultValue:{value:"null",computed:!1},required:!1},deferredRendering:{defaultValue:{value:"false",computed:!1},required:!1}}};var trash=__webpack_require__("./packages/icons/build-module/library/trash.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js");const data=[{id:1,title:"Apollo",description:"Apollo description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Not a planet"},{id:2,title:"Space",description:"Space description",image:"https://live.staticflickr.com/5678/21911065441_92e2d44708_b.jpg",type:"Not a planet"},{id:3,title:"NASA",description:"NASA photo",image:"https://live.staticflickr.com/742/21712365770_8f70a2c91e_b.jpg",type:"Not a planet"},{id:4,title:"Neptune",description:"Neptune description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant"},{id:5,title:"Mercury",description:"Mercury description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial"},{id:6,title:"Venus",description:"Venus description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial"},{id:7,title:"Earth",description:"Earth description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial"},{id:8,title:"Mars",description:"Mars description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial"},{id:9,title:"Jupiter",description:"Jupiter description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant"},{id:10,title:"Saturn",description:"Saturn description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant"},{id:11,title:"Uranus",description:"Uranus description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant"}],DEFAULT_VIEW={type:LAYOUT_TABLE,search:"",page:1,perPage:10,hiddenFields:["image","type"],layout:{},filters:[]},actions=[{id:"delete",label:"Delete item",isPrimary:!0,icon:trash.Z,hideModalHeader:!0,RenderModal:({item,closeModal})=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:"5",children:[(0,jsx_runtime.jsx)(text_component.Z,{children:`Are you sure you want to delete "${item.title}"?`}),(0,jsx_runtime.jsxs)(component.Z,{justify:"right",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:closeModal,children:"Cancel"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"primary",onClick:closeModal,children:"Delete"})]})]})},{id:"secondary",label:"Secondary action",callback(){}}],index_story={title:"DataViews/DataViews",component:DataViews,parameters:{sourceLink:"packages/dataviews/src"}},defaultConfigPerViewType={[LAYOUT_TABLE]:{primaryField:"title"},[LAYOUT_GRID]:{mediaField:"image",primaryField:"title"}};function index_story_normalizeSearchInput(input=""){return input.trim().toLowerCase()}const fields=[{header:"Image",id:"image",render:({item})=>(0,jsx_runtime.jsx)("img",{src:item.image,alt:"",style:{width:"100%"}}),width:50,enableSorting:!1},{header:"Title",id:"title",maxWidth:400,enableHiding:!1},{header:"Type",id:"type",maxWidth:400,enableHiding:!1,type:"enumeration",elements:[{value:"Not a planet",label:"Not a planet"},{value:"Ice giant",label:"Ice giant"},{value:"Terrestrial",label:"Terrestrial"},{value:"Gas giant",label:"Gas giant"}]},{header:"Description",id:"description",maxWidth:200,enableSorting:!1}],Default=props=>{const[view,setView]=(0,react.useState)(DEFAULT_VIEW),{shownData,paginationInfo}=(0,react.useMemo)((()=>{let filteredData=[...data];if(view.search){const normalizedSearch=index_story_normalizeSearchInput(view.search);filteredData=filteredData.filter((item=>[index_story_normalizeSearchInput(item.title),index_story_normalizeSearchInput(item.description)].some((field=>field.includes(normalizedSearch)))))}if(view.filters.length>0&&view.filters.forEach((filter=>{"type"===filter.field&&filter.operator===OPERATOR_IS_ANY&&filter?.value?.length>0?filteredData=filteredData.filter((item=>filter.value.includes(item.type))):"type"===filter.field&&filter.operator===OPERATOR_IS_NONE&&filter?.value?.length>0&&(filteredData=filteredData.filter((item=>!filter.value.includes(item.type))))})),view.sort){const stringSortingFields=["title"],fieldId=view.sort.field;if(stringSortingFields.includes(fieldId)){const fieldToSort=fields.find((field=>field.id===fieldId));filteredData.sort(((a,b)=>{var _fieldToSort$getValue,_fieldToSort$getValue2;const valueA=null!==(_fieldToSort$getValue=fieldToSort.getValue({item:a}))&&void 0!==_fieldToSort$getValue?_fieldToSort$getValue:"",valueB=null!==(_fieldToSort$getValue2=fieldToSort.getValue({item:b}))&&void 0!==_fieldToSort$getValue2?_fieldToSort$getValue2:"";return"asc"===view.sort.direction?valueA.localeCompare(valueB):valueB.localeCompare(valueA)}))}}const start=(view.page-1)*view.perPage,totalItems=filteredData?.length||0;return filteredData=filteredData?.slice(start,start+view.perPage),{shownData:filteredData,paginationInfo:{totalItems,totalPages:Math.ceil(totalItems/view.perPage)}}}),[view]),onChangeView=(0,react.useCallback)((newView=>{newView.type!==view.type&&(newView={...newView,layout:{...defaultConfigPerViewType[newView.type]}}),setView(newView)}),[view.type,setView]);return(0,jsx_runtime.jsx)(DataViews,{...props,paginationInfo,data:shownData,view,fields,onChangeView})};Default.displayName="Default",Default.args={actions,supportedLayouts:[LAYOUT_TABLE,LAYOUT_GRID]},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [view, setView] = useState(DEFAULT_VIEW);\n  const {\n    shownData,\n    paginationInfo\n  } = useMemo(() => {\n    let filteredData = [...data];\n    // Handle global search.\n    if (view.search) {\n      const normalizedSearch = normalizeSearchInput(view.search);\n      filteredData = filteredData.filter(item => {\n        return [normalizeSearchInput(item.title), normalizeSearchInput(item.description)].some(field => field.includes(normalizedSearch));\n      });\n    }\n    if (view.filters.length > 0) {\n      view.filters.forEach(filter => {\n        if (filter.field === 'type' && filter.operator === OPERATOR_IS_ANY && filter?.value?.length > 0) {\n          filteredData = filteredData.filter(item => {\n            return filter.value.includes(item.type);\n          });\n        } else if (filter.field === 'type' && filter.operator === OPERATOR_IS_NONE && filter?.value?.length > 0) {\n          filteredData = filteredData.filter(item => {\n            return !filter.value.includes(item.type);\n          });\n        }\n      });\n    }\n\n    // Handle sorting.\n    if (view.sort) {\n      const stringSortingFields = ['title'];\n      const fieldId = view.sort.field;\n      if (stringSortingFields.includes(fieldId)) {\n        const fieldToSort = fields.find(field => {\n          return field.id === fieldId;\n        });\n        filteredData.sort((a, b) => {\n          const valueA = fieldToSort.getValue({\n            item: a\n          }) ?? '';\n          const valueB = fieldToSort.getValue({\n            item: b\n          }) ?? '';\n          return view.sort.direction === 'asc' ? valueA.localeCompare(valueB) : valueB.localeCompare(valueA);\n        });\n      }\n    }\n    // Handle pagination.\n    const start = (view.page - 1) * view.perPage;\n    const totalItems = filteredData?.length || 0;\n    filteredData = filteredData?.slice(start, start + view.perPage);\n    return {\n      shownData: filteredData,\n      paginationInfo: {\n        totalItems,\n        totalPages: Math.ceil(totalItems / view.perPage)\n      }\n    };\n  }, [view]);\n  const onChangeView = useCallback(newView => {\n    if (newView.type !== view.type) {\n      newView = {\n        ...newView,\n        layout: {\n          ...defaultConfigPerViewType[newView.type]\n        }\n      };\n    }\n    setView(newView);\n  }, [view.type, setView]);\n  return <DataViews {...props} paginationInfo={paginationInfo} data={shownData} view={view} fields={fields} onChangeView={onChangeView} />;\n}",...Default.parameters?.docs?.source}}}}}]);